"use strict";function fireSwipeEvent(e,t){var i=new CustomEvent("swipe",{detail:{direction:t},bubbles:!0,cancelable:!1});e.dispatchEvent(i)}function clearTimers(){timers.forEach(function(e,t,i){clearInterval(e)})}function nextFrame(e){var t=$(e).find(".slider_control__on").attr("rel"),i=$(e).find(".slider_nav").find(".slider_control").length,r=+t+1<i?+t+1:0;$(e).find(".slider_control").removeClass("slider_control__on"),$(e).find('.slider_control[rel="'+r+'"]').addClass("slider_control__on"),sliderJS(r,e)}function previousFrame(e){var t=$(e).find(".slider_control__on").attr("rel"),i=$(e).find(".slider_nav").find(".slider_control").length,r=+t-1>=0?+t-1:i-1;$(e).find(".slider_control").removeClass("slider_control__on"),$(e).find('.slider_control[rel="'+r+'"]').addClass("slider_control__on"),sliderJS(r,e)}function calcWidth(e){var t=$(e).data("slider-max-width");if(!$.isNumeric(t)||$(window).width()<t){$(e).find(".slider_nav").removeClass("removed");var i=Math.floor($(e).width()),r=Math.ceil($(e).find(".slider_unit").width(i).outerWidth(!0));$(e).find(".slider_wrap").width($(e).find(".slider_unit").length*r);var n=$(e).find(".slider_control__on").attr("rel");sliderJS(n,e),timers.push(setInterval(function(){nextFrame(e)},5e3))}else $(e).find(".slider_wrap").removeAttr("style"),$(e).find(".slider_unit").removeAttr("style"),$(e).find(".slider_nav").addClass("removed")}function sliderJS(e,t){var i=$(t).find(".slider_wrap"),r=$(t).find(".slider_unit.slider_unit__"+e),n=$(r).outerWidth(!0);$(i).css("margin-left",-n*e)}var x_start=null,y_start=null,target=null;document.addEventListener("touchstart",function(e){x_start=e.touches[0].clientX,y_start=e.touches[0].clientY,target=e.target}),document.addEventListener("touchmove",function(e){if(x_start&&y_start&&target){var t=e.touches[0].clientX,i=e.touches[0].clientY,r=x_start-t,n=y_start-i,l=null;l=Math.abs(r)>Math.abs(n)?r<0?"left":"right":n>0?"up":"down",fireSwipeEvent(target,l),x_start=null,y_start=null,target=null}}),$(document).ready(function(){$(".menu-header_toggle").click(function(e){$(".menu-header_list").toggleClass("menu-header__active"),e.preventDefault()})});var timers=[];$(document).ready(function(){$(".slider").each(function(){var e=$(this);$(e).append("<div class='slider_nav'></div>"),$(e).find(".slider_unit").each(function(){$(e).find(".slider_nav").append("<span class='slider_control' rel='"+$(this).index()+"'></span>"),$(this).addClass("slider_unit__"+$(this).index())}),$(e).find(".slider_control").first().addClass("slider_control__on"),calcWidth(e)})}),$(window).resize(function(){clearTimers(),$(".slider").each(function(){calcWidth($(this))})}),$(document).on("click",".slider .slider_nav .slider_control",function(){var e=$(this).closest(".slider");$(e).find(".slider_control").removeClass("slider_control__on"),$(this).addClass("slider_control__on");var t=$(this).attr("rel");return sliderJS(t,e),!1}),$(document).on("swipe",".slider",function(e){return"right"==e.originalEvent.detail.direction?nextFrame(this):"left"==e.originalEvent.detail.direction&&previousFrame(this),!1});